const pizzaSpan=document.getElementsByClassName("pizza-counter")[0],pizzaName=document.getElementsByClassName("pizza-name")[0],pizzaButton=document.getElementsByClassName("button")[0],tempEmoji=document.getElementsByClassName("temp-emoji")[0],pizzaIcon=document.getElementsByClassName("pizza-icon")[0],clicksPerSecond=document.getElementsByClassName("counter")[0],statusText=document.getElementsByClassName("status")[0],pizzasContainer=document.getElementsByClassName("pizzas")[0],discoverCount=document.getElementsByClassName("discover-count")[0],totalOfPizzas=document.getElementsByClassName("total-of-pizzas")[0],pizzaPercentage=document.getElementsByClassName("pizza-percentage")[0],totalNumberOfPizzas=pizzasContainer.childElementCount;var pizzaNumber=0,discoveredPizza=0,clicks=0;
function addPizza(){
    if(pizzaNumber++,pizzaSpan.innerText=pizzaNumber,clicks++,1===pizzaNumber)document.getElementsByClassName("classico")[0].getElementsByTagName("img")[0].classList.add("reveal"),document.getElementsByClassName("classico")[0].getElementsByTagName("span")[0].innerText=Number(document.getElementsByClassName("classico")[0].getElementsByTagName("span")[0].innerText)+1,discoveredPizza++,pizzaName.innerText="El Classico",discoverCount.innerText=discoveredPizza,pizzaPercentage.innerText=String("("+Number(discoveredPizza/totalNumberOfPizzas*100).toFixed(2)+"%)").replace(".",","),setTimeout((()=>{pizzaButton.removeChild(tempEmoji),pizzaIcon.style.display="block"}),50);else{let e;pizzaNumber>=10?statusText.innerText="Apprenti":pizzaNumber>=50?statusText.innerText="Expérimenté":pizzaNumber>=250?statusText.innerText="Pizzaiolo":pizzaNumber>=500?statusText.innerText="Mister V":pizzaNumber>=1*10**3?statusText.innerText="Poltronepizza, pizza della qualità":pizzaNumber>=5*10**3?statusText.innerText="Énorme fanatique de pizza":pizzaNumber>=1*10**4&&Number(discoveredPizza/totalNumberOfPizzas*100).toFixed(2)>=100&&(statusText.innerText="El Rey de España"; const audio = new Audio("Harry KANE.mp3"; audio.play());),!function(e){var a=e.reduce(((e,a)=>e+a.chance),0);const c=a=Number(String(a).split(".")[0]);let n=Math.random()*Number(c);e.find((e=>(n-=e.chance,n<=0))).action()}
    ([{chance:90,action:()=>{e="classico"}},{chance:50,action:()=>{e="royal"}},
        {chance:40,action:()=>{e="napolitaino"}},
        {chance:30,action:()=>{e="sus"}},
        {chance:1,action:()=>{e="uno-fromage"}},
        {chance:5,action:()=>{e="dos-fromages"}},
        {chance:10,action:()=>{e="tres-fromages"}},
        {chance:80,action:()=>{e="cuatro-fromages"}},
        {chance:20,action:()=>{e="cinco-fromages"}},
        {chance:15,action:()=>{e="seis-fromages"}},
        {chance:10,action:()=>{e="siete-fromages"}},
        {chance:5,action:()=>{e="ocho-fromages"}},
        {chance:4,action:()=>{e="nueve-fromages"}},
        {chance:3,action:()=>{e="diez-fromages"}},
        {chance:2,action:()=>{e="once-fromages"}},
        {chance:1,action:()=>{e="doce-fromages"}},
        {chance:0.75,action:()=>{e="trece-fromages"}},
        {chance:0.5,action:()=>{e="catorce-fromages"}},
        {chance:0.25,action:()=>{e="quince-fromages"}},
        {chance:0.15,action:()=>{e="dieciseis-fromages"}},
        {chance:0.1,action:()=>{e="diecisiete-fromages"}},
        {chance:0.075,action:()=>{e="dieciocho-fromages"}},
        {chance:0.05,action:()=>{e="diecinueve-fromages"}},
        {chance:0.01,action:()=>{e="veinte-fromages"}},
        {chance:1,action:()=>{e="bronzo"}},
        {chance:0.01,action:()=>{e="argento"}},
        {chance:0.001,action:()=>{e="oro"}},
        {chance:25,action:()=>{e="olivo"}},
        {chance:10,action:()=>{e="amogus"}},
        {chance:5,action:()=>{e="tiny"}},
        {chance:35,action:()=>{e="big"}},
        {chance:5,action:()=>{e="pizza-del-pizza"}},
        {chance:10,action:()=>{e="invertado"}},
        {chance:10,action:()=>{e="pato"}},
        {chance:10,action:()=>{e="cake"}},
        {chance:5,action:()=>{e="chokora"}},
        {chance:5,action:()=>{e="multicolores"}},
        {chance:2,action:()=>{e="miam"}},
        {chance:2,action:()=>{e="conservo"}},
        {chance:1,action:()=>{e="pan"}},
        {chance:0.5,action:()=>{e="parpaing"}},
        {chance:0.95,action:()=>{e="kyuju"}},
        {chance:5,action:()=>{e="gray"}},
        {chance:3,action:()=>{e="smiley"}},
        {chance:0.5,action:()=>{e="glitch"}},
        {chance:8,action:()=>{e="stop"}},
        {chance:5,action:()=>{e="navidad"}},
        {chance:5,action:()=>{e="piensa"}},
        {chance:2,action:()=>{e="censored"}},
        {chance:5,action:()=>{e="transparento"}},
        {chance:10,action:()=>{e="paint"}},
        {chance:30,action:()=>{e="rondo"}},
        {chance:0.37,action:()=>{e="kurai"}},
        {chance:10,action:()=>{e="pepperoni-party"}},
        { chance: 0.007, action: () => {
            console.log("KANE action");
            e = "KANE";
            const audio = new Audio("Harry KANE.mp3"); // Assurez-vous que ce chemin est correct

            audio.play().then(() => {
                console.log("Audio playing");
                const kaneElements = document.getElementsByClassName('KANE');

                for (let i = 0; i < kaneElements.length; i++) {
                    // Clic gauche pour jouer l'audio
                    kaneElements[i].onclick = () => {
                        audio.play().catch(error => {
                            console.error("Error playing audio: ", error);
                        });
                    };

                    // Clic droit pour la confirmation du téléchargement
                    kaneElements[i].oncontextmenu = (event) => {
                        event.preventDefault(); // Empêche le menu contextuel par défaut
                        if (confirm('Êtes-vous sûr(e) de vouloir télécharger Harry Kane?')) {
                            window.location.href = 'https://drive.google.com/uc?export=download&id=1SmBvAmHAIDhLgle1l02Btjls8GGL74m4';
                        }
                        return false; // Empêche les actions supplémentaires du clic droit
                    };

                    kaneElements[i].onmouseover = () => {
                        audio.play().catch(error => {
                            console.error("Error playing audio: ", error);
                        });
                    };

                    kaneElements[i].onmouseout = () => {
                        audio.play().catch(error => {
                            console.error("Error playing audio: ", error);
                        });
                    };

                    kaneElements[i].onmouseleave = () => {
                        audio.play().catch(error => {
                            console.error("Error playing audio: ", error);
                        });
                    };

                    document.addEventListener('keydown', function(event) {
                        // Vérifie si la touche Ctrl est pressée
                        if (event.ctrlKey) {
                            audio.play().catch(error => {
                                console.error("Error playing audio: ", error);
                            });
                        }
                    });
                }
            }).catch((error) => {
                console.error("Audio play failed: ", error);
            });
        }},
        {chance:1,action:()=>{e="pizza"}}]),pizzaIcon.src=`./Pizza%20Land%20-%20BakaTaida.rf.gd_fichiers/el-${e}.png`,pizzaName.innerText="El "+e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1").replace(/-+/g," ").trim().replace("peg","PEG"),document.getElementsByClassName(e)[0].getElementsByTagName("span")[0].innerText=Number(document.getElementsByClassName(e)[0].getElementsByTagName("span")[0].innerText)+1,document.getElementsByClassName(e)[0].getElementsByTagName("img")[0].classList.contains("reveal")||(discoveredPizza++,discoverCount.innerText=discoveredPizza,pizzaPercentage.innerText=String("("+Number(discoveredPizza/totalNumberOfPizzas*100).toFixed(2)+"%)").replace(".",","),document.getElementsByClassName(e)[0].getElementsByTagName("img")[0].classList.add("reveal"))}}function getSecretPizza(e){e.remove(),pizzaNumber++,pizzaSpan.innerText=pizzaNumber,discoveredPizza++,discoverCount.innerText=discoveredPizza,pizzaPercentage.innerText=String("("+Number(discoveredPizza/totalNumberOfPizzas*100).toFixed(2)+"%)").replace(".",","),clicks++,tempEmoji&&setTimeout((()=>{pizzaButton.removeChild(tempEmoji),pizzaIcon.style.display="block"}),50),pizzaIcon.src="./img/pizzas/el-secreto.png",pizzaName.innerText="El Secreto";const a=document.createElement("div"),c=document.createElement("span"),n=document.createElement("img");a.className="secreto",c.innerText="1",n.width=50,n.height=50,n.className="reveal",n.src="./img/pizzas/el-secreto.png",n.alt="Pizza secrète",n.loading="lazy",n.draggable=!1,a.appendChild(c),a.appendChild(n),pizzasContainer.appendChild(a)}totalOfPizzas.innerText=totalNumberOfPizzas,setInterval((()=>{clicksPerSecond.innerText=clicks,clicks=0}),1e3);
